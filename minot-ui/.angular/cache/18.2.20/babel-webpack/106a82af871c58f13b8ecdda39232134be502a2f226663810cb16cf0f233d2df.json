{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./register.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./register.component.css?ngResource\";\nimport { Component, inject } from '@angular/core';\nimport { GoogleLoginComponent } from '../google-login/google-login.component';\nimport { AuthService } from '../../services/auth.service';\nimport { FormBuilder, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { passwordMatch } from '../../validators/password-match.validator';\nimport { Router } from '@angular/router';\nlet RegisterComponent = class RegisterComponent {\n  _authService = inject(AuthService);\n  _formBuilder = inject(FormBuilder);\n  _router = inject(Router);\n  hidePassword = true;\n  hideconfirmPassword = true;\n  messageError = '';\n  form = this._formBuilder.group({\n    name: ['', Validators.required],\n    email: ['', [Validators.email, Validators.required]],\n    password: ['', Validators.required],\n    confirmPassword: ['', [Validators.required], [passwordMatch]]\n  });\n  ngOnInit() {\n    this.form.get('password')?.valueChanges.subscribe(() => {\n      this.form.get('confirmPassword')?.updateValueAndValidity();\n      console.log('something');\n    });\n  }\n  passwordVisibility() {\n    this.hidePassword = !this.hidePassword;\n  }\n  confirmPasswordVisibility() {\n    this.hideconfirmPassword = !this.hideconfirmPassword;\n  }\n  register() {\n    if (this.form.valid) {\n      this.messageError = '';\n      this._authService.register(this.form.value).subscribe({\n        next: res => {\n          this._router.navigate(['/home']);\n        },\n        error: err => {\n          const error = err.error;\n          this.messageError = error.error;\n        }\n      });\n    }\n  }\n};\nRegisterComponent = __decorate([Component({\n  selector: 'app-register',\n  standalone: true,\n  imports: [GoogleLoginComponent, ReactiveFormsModule],\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], RegisterComponent);\nexport default RegisterComponent;","map":{"version":3,"names":["Component","inject","GoogleLoginComponent","AuthService","FormBuilder","ReactiveFormsModule","Validators","passwordMatch","Router","RegisterComponent","_authService","_formBuilder","_router","hidePassword","hideconfirmPassword","messageError","form","group","name","required","email","password","confirmPassword","ngOnInit","get","valueChanges","subscribe","updateValueAndValidity","console","log","passwordVisibility","confirmPasswordVisibility","register","valid","value","next","res","navigate","error","err","__decorate","selector","standalone","imports","template","__NG_CLI_RESOURCE__0"],"sources":["/home/alejandro/Desktop/minot/minot-ui/src/app/auth/components/register/register.component.ts"],"sourcesContent":["import { Component, inject, OnInit } from '@angular/core';\nimport { GoogleLoginComponent } from '../google-login/google-login.component';\nimport { AuthService } from '../../services/auth.service';\nimport { FormBuilder, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { passwordMatch } from '../../validators/password-match.validator';\nimport { RegisterRequest } from '../../model/register-request';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-register',\n  standalone: true,\n  imports: [GoogleLoginComponent, ReactiveFormsModule],\n  templateUrl: './register.component.html',\n  styleUrl: './register.component.css',\n})\nexport default class RegisterComponent implements OnInit {\n  private _authService = inject(AuthService);\n  private _formBuilder = inject(FormBuilder);\n  private _router = inject(Router);\n  hidePassword = true;\n  hideconfirmPassword = true;\n  messageError = '';\n\n  form = this._formBuilder.group({\n    name: ['', Validators.required],\n    email: ['', [Validators.email, Validators.required]],\n    password: ['', Validators.required],\n    confirmPassword: ['', [Validators.required], [passwordMatch]],\n  });\n\n  ngOnInit(): void {\n    this.form.get('password')?.valueChanges.subscribe(() => {\n      this.form.get('confirmPassword')?.updateValueAndValidity();\n      console.log('something');\n    });\n  }\n\n  passwordVisibility() {\n    this.hidePassword = !this.hidePassword;\n  }\n  confirmPasswordVisibility() {\n    this.hideconfirmPassword = !this.hideconfirmPassword;\n  }\n\n  register() {\n    if(this.form.valid){\n      this.messageError = '';\n      this._authService.register(this.form.value as RegisterRequest).subscribe({\n        next:res=>{\n          this._router.navigate(['/home']);\n        },\n        error:(err:HttpErrorResponse)=>{\n          const error: { error: string } = err.error;\n          this.messageError = error.error;\n        }\n      })\n    }\n  }\n}\n"],"mappings":";;;AAAA,SAASA,SAAS,EAAEC,MAAM,QAAgB,eAAe;AACzD,SAASC,oBAAoB,QAAQ,wCAAwC;AAC7E,SAASC,WAAW,QAAQ,6BAA6B;AACzD,SAASC,WAAW,EAAEC,mBAAmB,EAAEC,UAAU,QAAQ,gBAAgB;AAC7E,SAASC,aAAa,QAAQ,2CAA2C;AAGzE,SAASC,MAAM,QAAQ,iBAAiB;AASzB,IAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAC5BC,YAAY,GAAGT,MAAM,CAACE,WAAW,CAAC;EAClCQ,YAAY,GAAGV,MAAM,CAACG,WAAW,CAAC;EAClCQ,OAAO,GAAGX,MAAM,CAACO,MAAM,CAAC;EAChCK,YAAY,GAAG,IAAI;EACnBC,mBAAmB,GAAG,IAAI;EAC1BC,YAAY,GAAG,EAAE;EAEjBC,IAAI,GAAG,IAAI,CAACL,YAAY,CAACM,KAAK,CAAC;IAC7BC,IAAI,EAAE,CAAC,EAAE,EAAEZ,UAAU,CAACa,QAAQ,CAAC;IAC/BC,KAAK,EAAE,CAAC,EAAE,EAAE,CAACd,UAAU,CAACc,KAAK,EAAEd,UAAU,CAACa,QAAQ,CAAC,CAAC;IACpDE,QAAQ,EAAE,CAAC,EAAE,EAAEf,UAAU,CAACa,QAAQ,CAAC;IACnCG,eAAe,EAAE,CAAC,EAAE,EAAE,CAAChB,UAAU,CAACa,QAAQ,CAAC,EAAE,CAACZ,aAAa,CAAC;GAC7D,CAAC;EAEFgB,QAAQA,CAAA;IACN,IAAI,CAACP,IAAI,CAACQ,GAAG,CAAC,UAAU,CAAC,EAAEC,YAAY,CAACC,SAAS,CAAC,MAAK;MACrD,IAAI,CAACV,IAAI,CAACQ,GAAG,CAAC,iBAAiB,CAAC,EAAEG,sBAAsB,EAAE;MAC1DC,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;IAC1B,CAAC,CAAC;EACJ;EAEAC,kBAAkBA,CAAA;IAChB,IAAI,CAACjB,YAAY,GAAG,CAAC,IAAI,CAACA,YAAY;EACxC;EACAkB,yBAAyBA,CAAA;IACvB,IAAI,CAACjB,mBAAmB,GAAG,CAAC,IAAI,CAACA,mBAAmB;EACtD;EAEAkB,QAAQA,CAAA;IACN,IAAG,IAAI,CAAChB,IAAI,CAACiB,KAAK,EAAC;MACjB,IAAI,CAAClB,YAAY,GAAG,EAAE;MACtB,IAAI,CAACL,YAAY,CAACsB,QAAQ,CAAC,IAAI,CAAChB,IAAI,CAACkB,KAAwB,CAAC,CAACR,SAAS,CAAC;QACvES,IAAI,EAACC,GAAG,IAAE;UACR,IAAI,CAACxB,OAAO,CAACyB,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;QAClC,CAAC;QACDC,KAAK,EAAEC,GAAqB,IAAG;UAC7B,MAAMD,KAAK,GAAsBC,GAAG,CAACD,KAAK;UAC1C,IAAI,CAACvB,YAAY,GAAGuB,KAAK,CAACA,KAAK;QACjC;OACD,CAAC;IACJ;EACF;CACD;AA3CoB7B,iBAAiB,GAAA+B,UAAA,EAPrCxC,SAAS,CAAC;EACTyC,QAAQ,EAAE,cAAc;EACxBC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CAACzC,oBAAoB,EAAEG,mBAAmB,CAAC;EACpDuC,QAAA,EAAAC,oBAAwC;;CAEzC,CAAC,C,EACmBpC,iBAAiB,CA2CrC;eA3CoBA,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}